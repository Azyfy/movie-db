(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(14),a=n.n(s),r=(n(34),n(35),n(9)),i=n(3),o=n.n(i),u=n(4),l=n(5),j=n(6),b=n(11),d=n.n(b);var p=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,s,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US&page=1")),d.a.get("https://api.themoviedb.org/3/tv/top_rated?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US&page=1"))]);case 2:return t=e.sent,n=Object(j.a)(t,2),c=n[0],s=n[1],a=c.data.results.splice(0,10),r=s.data.results.splice(0,10),e.abrupt("return",{topMovies:a,topShows:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,s,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US")),d.a.get("https://api.themoviedb.org/3/genre/tv/list?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US"))]);case 2:return t=e.sent,n=Object(j.a)(t,2),c=n[0],s=n[1],a=c.data.genres,r=s.data.genres,e.abrupt("return",{movieGenres:a,showGenres:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/".concat(n,"/").concat(t,"?api_key=").concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US&append_to_response=videos"));case 2:return c=e.sent,s=c.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/search/".concat(t,"?api_key=38ef25d4ae2b140a4f5b6f9c04144a95&query=").concat(n));case 2:return c=e.sent,s=c.data.results,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O={searchTerm:""},m=function(e){return{type:"ERROR",data:e}},x=function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(c){var s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v(e,t);case 3:s=n.sent,c({type:"INITIALIZE_SEARCH_RESULTS",data:s}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),c(m(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(m(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_TOP_RATED":var n=t.data;return Object(l.a)(Object(l.a)({},e),{},{topRated:n});case"INITIALIZE_GENRES":var c=t.data;return Object(l.a)(Object(l.a)({},e),{},{genres:c});case"INITIALIZE_SEARCH_RESULTS":var s=t.data;return Object(l.a)(Object(l.a)({},e),{},{searchResults:s});case"CLEAR_SEARCH_RESULTS":var a=t.data;return Object(l.a)(Object(l.a)({},e),{},{searchResults:a});case"SET_SEARCH_TERM":var r=t.data;return Object(l.a)(Object(l.a)({},e),{},{searchTerm:r});case"ERROR":var i=t.data;return Object(l.a)(Object(l.a)({},e),{},{errorMessage:i});default:return e}},_=n(10),N=n(2),E=(n(61),n(0)),S=function(){return Object(E.jsx)("div",{className:"Loader",children:Object(E.jsxs)("div",{className:"lds-ripple",children:[Object(E.jsx)("div",{}),Object(E.jsx)("div",{})]})})},k=(n(63),function(e){var t=e.titleGenres,n=e.genres.filter((function(e){return t.includes(e.id)}));return Object(E.jsx)("div",{className:"Genres",children:n.map((function(e){return Object(E.jsxs)("span",{children:[" ",e.name," "]},e.id)}))})}),T=(n(64),function(){return Object(E.jsx)("div",{className:"FallBackPic"})}),y=function(e){var t=e.backdrop,n=e.name,c=e.nameForClass;return Object(E.jsx)("div",{className:"PictureBackdrop",children:t?Object(E.jsxs)("picture",{children:[Object(E.jsx)("source",{media:"(min-width:1023px)",srcSet:"https://image.tmdb.org/t/p/w1280/".concat(t)}),Object(E.jsx)("source",{media:"(min-width:768px)",srcSet:"https://image.tmdb.org/t/p/w780/".concat(t)}),Object(E.jsx)("img",{className:c,src:"https://image.tmdb.org/t/p/w300/".concat(t),alt:"".concat(n)})]}):Object(E.jsx)(T,{})})},R=function(e){var t;return e.titles.length<1?Object(E.jsx)("div",{className:"no-results",children:"No results"}):Object(E.jsxs)("div",{className:"Titles",children:[Object(E.jsxs)("h2",{className:"secondary-title font-face-mfstrip",children:[" ",e.heading," "]}),Object(E.jsx)("div",{className:"titles-container",children:null===e||void 0===e||null===(t=e.titles)||void 0===t?void 0:t.map((function(t){return Object(E.jsx)("div",{className:"title-container",children:Object(E.jsxs)(_.b,{to:"".concat(e.currentPath,"/").concat(t.id),children:[Object(E.jsx)(y,{nameForClass:"backdrop-poster",backdrop:t.backdrop_path,name:t.name||t.title}),Object(E.jsxs)("h3",{children:[" ",t.name||t.title," "]}),Object(E.jsxs)("p",{children:[" ",t.release_date||t.first_air_date," "]}),Object(E.jsx)(k,{titleGenres:t.genre_ids,genres:e.genres}),Object(E.jsxs)("p",{children:[" ",t.overview.slice(0,100)," . . . "]}),Object(E.jsxs)("span",{children:[" ",t.vote_average," "]})]},t.id)},t.id)}))})]})},I=(n(65),function(){return Object(E.jsxs)("div",{className:"NoMatch",children:[Object(E.jsx)("p",{children:" Wrong turn "}),Object(E.jsx)("p",{children:" The route doesnt exist "}),Object(E.jsx)("p",{children:" Turn back "})]})}),A=(n(66),function(){return Object(E.jsxs)("header",{className:"Header",children:[Object(E.jsxs)("picture",{children:[Object(E.jsx)("source",{media:"(max-width:768px)",srcSet:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg"}),Object(E.jsx)("img",{className:"logo",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg",alt:"tmdb lgo"})]}),Object(E.jsx)("h1",{className:"main-title font-face-acfilmstrip",children:" Movie and TV Show DB "}),Object(E.jsx)("div",{className:"ld-mode"})]})}),L=(n(67),n(68),function(e,t){var n=Object(c.useState)(e),s=Object(j.a)(n,2),a=s[0],r=s[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){r(e),console.log("TIMEOUT",e,a)}),t);return function(){clearTimeout(n)}}),[a,e,t]),a}),C=function(e){var t=e.type,n=Object(r.c)((function(e){return e.searchTerm})),s=L(n,1e3),a=Object(r.b)();Object(c.useEffect)((function(){if(s.length>=3){console.log("HIGHER",s.split(" ").join("+"));var e=s.split(" ").join("+"),n=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(x(t,e));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}else console.log("LOWER",s),a(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_SEARCH_RESULTS",data:null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[s,a,t]);return Object(E.jsx)("div",{className:"Search",children:Object(E.jsx)("input",{value:n,onChange:function(e){var t=e.target.value;a(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_SEARCH_TERM",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},placeholder:"Search"})})},G=function(){var e=Object(N.f)(),t=Object(c.useState)("top-m"===e.pathname.slice(1,6)?"movie":"tv"),n=Object(j.a)(t,2),s=n[0],a=n[1],r=function(e){a(e)};return"/top-movies"!==e.pathname&&"/top-movies/"!==e.pathname&&"/top-shows"!==e.pathname&&"/top-shows/"!==e.pathname?null:Object(E.jsxs)("div",{className:"NavMenu",children:[Object(E.jsxs)("nav",{className:"nav",children:[Object(E.jsx)(_.b,{to:"/top-movies",onClick:function(){return r("movie")},children:" Movies "}),Object(E.jsx)(_.b,{to:"/top-shows",onClick:function(){return r("tv")},children:" TV Shows "})]}),Object(E.jsx)(C,{type:s})]})},M=(n(69),n(70),function(e){var t=e.videos;return Object(E.jsx)("div",{className:"VideoFrame",children:"YouTube"===t.results[0].site?Object(E.jsx)("iframe",{width:"100%",className:"video",src:"https://www.youtube.com/embed/watch?v=".concat(t.results[0].key,">"),title:t.results[0].name}):Object(E.jsx)("iframe",{width:"100%",className:"video",src:"https://vimeo.com/".concat(t.results[0].id),title:t.results[0].name})})}),H=function(e){var t=e.title;return Object(E.jsx)("div",{className:"Title",children:Object(E.jsxs)("div",{className:"single-title-container",children:[t.videos.results.length>0?Object(E.jsx)(M,{videos:t.videos}):Object(E.jsx)(y,{nameForClass:"single-backdrop-poster",backdrop:t.backdrop_path,name:t.name||t.title}),Object(E.jsxs)("h3",{className:"title-heading font-face-undeveloped",children:[" ",t.name||t.title," "]}),Object(E.jsxs)("div",{className:"details-container",children:[Object(E.jsxs)("div",{className:"details",children:[Object(E.jsxs)("p",{id:"tagline",children:[" ",t.tagline," "]}),Object(E.jsx)("div",{children:Object(E.jsxs)("p",{children:[" ",Object(E.jsx)("span",{className:"desc-t",children:" Status"}),": ",t.status," "]})}),Object(E.jsxs)("div",{children:[t.runtime?Object(E.jsxs)("p",{children:[" ",Object(E.jsx)("span",{className:"desc-t",children:"Runtime"}),": ",t.runtime," "]}):null,t.number_of_seasons?Object(E.jsxs)("p",{children:[" ",Object(E.jsx)("span",{className:"desc-t",children:"Season/Episodes"}),": ",t.number_of_seasons,"/",t.number_of_episodes," "]}):null]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{className:"desc-t",children:" Year "}),Object(E.jsxs)("p",{children:[" ",t.release_date||t.first_air_date," "]})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{className:"desc-t",children:" Overview "}),Object(E.jsxs)("p",{children:[" ",t.overview," "]})]}),Object(E.jsx)("div",{children:Object(E.jsxs)("span",{children:[" Vote average: ",t.vote_average," "]})})]}),t.poster_path?Object(E.jsx)(y,{nameForClass:"single-poster",backdrop:t.poster_path,name:t.name||t.title}):null]})]},t.id)})},U=function(e){var t=e.type,n=Object(c.useState)(null),s=Object(j.a)(n,2),a=s[0],i=s[1],l=Object(N.g)(),b=Object(r.b)(),d=Object(N.h)();return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.id,e.prev=1,e.next=4,f(n,t);case 4:c=e.sent,i(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b(g(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d.id,t,b]),a?(console.log("SINGLE TITLE",a),console.log("SINGLE TITLE VIDEOS",a.videos.results),Object(E.jsxs)("div",{className:"SingleTitle",children:[Object(E.jsx)("button",{id:"back-btn",onClick:function(){return l(-1)},children:" Back "}),Object(E.jsx)(H,{title:a})]})):Object(E.jsx)(S,{})},P=(n(71),function(){return Object(E.jsx)("footer",{className:"Footer",children:Object(E.jsxs)("picture",{children:[Object(E.jsx)("source",{media:"(min-width:768px)",srcSet:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_long_1-8ba2ac31f354005783fab473602c34c3f4fd207150182061e425d366e4f34596.svg"}),Object(E.jsx)("img",{className:"logo-footer",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"tmdb logo"})]})})}),F=(n(72),function(e){var t=e.message;return console.log("MESSAGE",t),Object(E.jsxs)("div",{className:"Error",children:[Object(E.jsx)("p",{children:" Error "}),Object(E.jsxs)("p",{children:["  ",t," "]})]})});var V=function(){var e=Object(r.c)((function(e){return e.topRated})),t=Object(r.c)((function(e){return e.genres})),n=Object(r.c)((function(e){return e.searchResults})),s=Object(r.c)((function(e){return e.errorMessage})),a=Object(r.b)();return console.log("SEARCH R",n),Object(c.useEffect)((function(){a(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:n=e.sent,t({type:"INITIALIZE_TOP_RATED",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(m(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),a(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:n=e.sent,t({type:"INITIALIZE_GENRES",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(m(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[a]),s?Object(E.jsx)(F,{message:s}):(console.log("TR",e),console.log("G",t),e&&t?Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(A,{}),Object(E.jsx)("main",{children:Object(E.jsxs)(_.a,{basename:"/movie-db",children:[Object(E.jsx)(G,{}),Object(E.jsxs)(N.d,{children:[Object(E.jsx)(N.b,{path:"/",element:Object(E.jsx)(N.a,{to:"/top-shows"})}),Object(E.jsx)(N.b,{path:"/top-shows",element:Object(E.jsx)(R,{titles:n||e.topShows,genres:t.movieGenres,heading:"TV Shows",currentPath:"/top-shows"})}),Object(E.jsx)(N.b,{path:"/top-movies",element:Object(E.jsx)(R,{titles:n||e.topMovies,genres:t.showGenres,heading:"Movies",currentPath:"/top-movies"})}),Object(E.jsx)(N.b,{path:"/top-shows/:id",element:Object(E.jsx)(U,{type:"tv"})}),Object(E.jsx)(N.b,{path:"/top-movies/:id",element:Object(E.jsx)(U,{type:"movie"})}),Object(E.jsx)(N.b,{path:"*",element:Object(E.jsx)(I,{})})]})]})}),Object(E.jsx)(P,{})]}):Object(E.jsx)(S,{}))},Z=n(15),B=n(29),D=n(28),q=Object(Z.createStore)(w,Object(D.composeWithDevTools)(Object(Z.applyMiddleware)(B.a)));a.a.render(Object(E.jsx)(r.a,{store:q,children:Object(E.jsx)(V,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.6dba0eb7.chunk.js.map