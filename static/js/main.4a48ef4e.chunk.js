(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(14),s=n.n(a),r=(n(34),n(35),n(9)),i=n(3),o=n.n(i),u=n(4),l=n(5),j=n(6),b=n(11),d=n.n(b);var p=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US&page=1")),d.a.get("https://api.themoviedb.org/3/tv/top_rated?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US&page=1"))]);case 2:return t=e.sent,n=Object(j.a)(t,2),c=n[0],a=n[1],s=c.data.results.splice(0,10),r=a.data.results.splice(0,10),e.abrupt("return",{topMovies:s,topShows:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US")),d.a.get("https://api.themoviedb.org/3/genre/tv/list?api_key=".concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US"))]);case 2:return t=e.sent,n=Object(j.a)(t,2),c=n[0],a=n[1],s=c.data.genres,r=a.data.genres,e.abrupt("return",{movieGenres:s,showGenres:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/".concat(n,"/").concat(t,"?api_key=").concat("38ef25d4ae2b140a4f5b6f9c04144a95","&language=en-US&append_to_response=videos"));case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/search/".concat(t,"?api_key=38ef25d4ae2b140a4f5b6f9c04144a95&query=").concat(n));case 2:return c=e.sent,a=c.data.results,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m={searchTerm:""},O=function(e){return{type:"ERROR",data:e}},x=function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(c){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v(e,t);case 3:a=n.sent,c({type:"INITIALIZE_SEARCH_RESULTS",data:a}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),c(O(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(O(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_TOP_RATED":var n=t.data;return Object(l.a)(Object(l.a)({},e),{},{topRated:n});case"INITIALIZE_GENRES":var c=t.data;return Object(l.a)(Object(l.a)({},e),{},{genres:c});case"INITIALIZE_SEARCH_RESULTS":var a=t.data;return Object(l.a)(Object(l.a)({},e),{},{searchResults:a});case"CLEAR_SEARCH_RESULTS":var s=t.data;return Object(l.a)(Object(l.a)({},e),{},{searchResults:s});case"SET_SEARCH_TERM":var r=t.data;return Object(l.a)(Object(l.a)({},e),{},{searchTerm:r});case"ERROR":var i=t.data;return Object(l.a)(Object(l.a)({},e),{},{errorMessage:i});default:return e}},_=n(10),N=n(2),S=(n(61),n(0)),k=function(){return Object(S.jsx)("div",{className:"Loader",children:Object(S.jsxs)("div",{className:"lds-ripple",children:[Object(S.jsx)("div",{}),Object(S.jsx)("div",{})]})})},E=(n(63),function(e){var t=e.titleGenres,n=e.genres.filter((function(e){return t.includes(e.id)}));return Object(S.jsx)("div",{className:"Genres",children:n.map((function(e){return Object(S.jsxs)("span",{className:"s-genre",children:[" ",e.name," "]},e.id)}))})}),y=(n(64),function(){return Object(S.jsx)("div",{className:"FallBackPic"})}),T=function(e){var t=e.backdrop,n=e.name,c=e.nameForClass;return Object(S.jsx)("div",{className:"PictureBackdrop",children:t?Object(S.jsxs)("picture",{children:[Object(S.jsx)("source",{media:"(min-width:1023px)",srcSet:"https://image.tmdb.org/t/p/w1280/".concat(t)}),Object(S.jsx)("source",{media:"(min-width:768px)",srcSet:"https://image.tmdb.org/t/p/w780/".concat(t)}),Object(S.jsx)("img",{className:c,src:"https://image.tmdb.org/t/p/w300/".concat(t),alt:"".concat(n)})]}):Object(S.jsx)(y,{})})},R=function(e){return e.titles.length<1?Object(S.jsx)("div",{className:"no-results",children:"No results"}):Object(S.jsx)("section",{children:Object(S.jsxs)("div",{className:"Titles",children:[Object(S.jsxs)("h2",{className:"secondary-title font-face-mfstrip",children:[" ",e.heading," "]}),Object(S.jsx)("div",{className:"titles-container",children:e.titles.map((function(t){return Object(S.jsx)("div",{className:"title-container",children:Object(S.jsxs)(_.b,{to:"".concat(e.currentPath,"/").concat(t.id),children:[Object(S.jsx)(T,{nameForClass:"backdrop-poster",backdrop:t.backdrop_path,name:t.name||t.title}),Object(S.jsxs)("h3",{className:"titles-heading",children:[" ",t.name||t.title," "]}),Object(S.jsxs)("p",{children:[" ",t.release_date||t.first_air_date," "]}),Object(S.jsx)(E,{titleGenres:t.genre_ids,genres:e.genres}),Object(S.jsxs)("p",{children:[" ",t.overview.slice(0,100)," . . . "]}),Object(S.jsxs)("span",{children:[" ",t.vote_average," "]})]},t.id)},t.id)}))})]})})},I=(n(65),function(){return Object(S.jsxs)("div",{className:"NoMatch",children:[Object(S.jsx)("p",{children:" Wrong turn "}),Object(S.jsx)("p",{children:" The route doesnt exist "}),Object(S.jsx)("p",{children:" Turn back "})]})}),A=(n(66),function(){return Object(S.jsxs)("header",{className:"Header",children:[Object(S.jsxs)("picture",{children:[Object(S.jsx)("source",{media:"(max-width:768px)",srcSet:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg"}),Object(S.jsx)("img",{className:"logo",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg",alt:"tmdb lgo"})]}),Object(S.jsx)("h1",{className:"main-title font-face-acfilmstrip",children:" Movie and TV Show DB "}),Object(S.jsx)("div",{className:"ld-mode"})]})}),C=(n(67),n(68),function(e,t){var n=Object(c.useState)(e),a=Object(j.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){r(e)}),t);return function(){clearTimeout(n)}}),[s,e,t]),s}),L=function(e){var t=e.type,n=Object(r.c)((function(e){return e.searchTerm})),a=C(n,1e3),s=Object(r.b)();Object(c.useEffect)((function(){if(a.length>=3){var e=a.split(" ").join("+"),n=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s(x(t,e));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}else s(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_SEARCH_RESULTS",data:null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[a,s,t]);return Object(S.jsx)("div",{className:"Search",children:Object(S.jsx)("input",{value:n,onChange:function(e){var t=e.target.value;s(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_SEARCH_TERM",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},placeholder:"Search"})})},M=function(){var e=Object(N.f)(),t=Object(c.useState)("movie"===e.pathname.slice(1,6)?"movie":"tv"),n=Object(j.a)(t,2),a=n[0],s=n[1],r=function(e){s(e)};return"/movies"!==e.pathname&&"/movies/"!==e.pathname&&"/shows"!==e.pathname&&"/shows/"!==e.pathname?null:Object(S.jsxs)("div",{className:"NavMenu",children:[Object(S.jsxs)("nav",{className:"nav",children:[Object(S.jsx)(_.b,{to:"/movies",onClick:function(){return r("movie")},children:" Movies "}),Object(S.jsx)(_.b,{to:"/shows",onClick:function(){return r("tv")},children:" TV Shows "})]}),Object(S.jsx)(L,{type:a})]})},G=(n(69),n(70),function(e){var t=e.videos;return Object(S.jsx)("div",{className:"VideoFrame",children:"YouTube"===t.results[0].site?Object(S.jsx)("iframe",{width:"100%",sandbox:"allow-scripts allow-same-origin allow-presentation",className:"video",src:"https://www.youtube.com/embed/".concat(t.results[0].key),title:t.results[0].name,allow:"fullscreen;"}):Object(S.jsx)("iframe",{width:"100%",className:"video",src:"https://vimeo.com/".concat(t.results[0].id),title:t.results[0].name,allow:"fullscreen;"})})}),P=function(e){var t=e.title;return Object(S.jsx)("div",{className:"Title",children:Object(S.jsxs)("div",{className:"single-title-container",children:[t.videos.results.length>0?Object(S.jsx)(G,{videos:t.videos}):Object(S.jsx)(T,{nameForClass:"single-backdrop-poster",backdrop:t.backdrop_path,name:t.name||t.title}),Object(S.jsxs)("h3",{className:"title-heading font-face-undeveloped",children:[" ",t.name||t.title," "]}),Object(S.jsxs)("div",{className:"details-container",children:[Object(S.jsxs)("div",{className:"details",children:[Object(S.jsxs)("p",{id:"tagline",children:[" ",t.tagline," "]}),Object(S.jsx)("div",{children:Object(S.jsxs)("p",{children:[" ",Object(S.jsx)("span",{className:"desc-t",children:" Status"}),": ",t.status," "]})}),Object(S.jsxs)("div",{children:[t.runtime?Object(S.jsxs)("p",{children:[" ",Object(S.jsx)("span",{className:"desc-t",children:"Runtime"}),": ",t.runtime," "]}):null,t.number_of_seasons?Object(S.jsxs)("p",{children:[" ",Object(S.jsx)("span",{className:"desc-t",children:"Season/Episodes"}),": ",t.number_of_seasons,"/",t.number_of_episodes," "]}):null]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"desc-t",children:" Year "}),Object(S.jsxs)("p",{children:[" ",t.release_date||t.first_air_date," "]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"desc-t",children:" Overview "}),Object(S.jsxs)("p",{children:[" ",t.overview," "]})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("span",{children:[" Vote average: ",t.vote_average," "]})})]}),t.poster_path?Object(S.jsx)(T,{nameForClass:"single-poster",backdrop:t.poster_path,name:t.name||t.title}):null]})]},t.id)})},U=function(e){var t=e.type,n=Object(c.useState)(null),a=Object(j.a)(n,2),s=a[0],i=a[1],l=Object(N.g)(),b=Object(r.b)(),d=Object(N.h)();return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.id,e.prev=1,e.next=4,f(n,t);case 4:c=e.sent,i(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b(g(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d.id,t,b]),s?Object(S.jsx)("section",{children:Object(S.jsxs)("div",{className:"SingleTitle",children:[Object(S.jsxs)("button",{id:"back-btn",onClick:function(){return l(-1)},children:[" ",Object(S.jsxs)("span",{children:[" ","<"," "]})," "]}),Object(S.jsx)(P,{title:s})]})}):Object(S.jsx)(k,{})},F=(n(71),function(){return Object(S.jsx)("footer",{className:"Footer",children:Object(S.jsxs)("picture",{children:[Object(S.jsx)("source",{media:"(min-width:768px)",srcSet:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_long_1-8ba2ac31f354005783fab473602c34c3f4fd207150182061e425d366e4f34596.svg"}),Object(S.jsx)("img",{className:"logo-footer",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"tmdb logo"})]})})}),H=(n(72),function(e){var t=e.message;return Object(S.jsxs)("div",{className:"Error",children:[Object(S.jsx)("p",{children:" Error "}),Object(S.jsxs)("p",{children:["  ",t," "]})]})});var Z=function(){var e=Object(r.c)((function(e){return e.topRated})),t=Object(r.c)((function(e){return e.genres})),n=Object(r.c)((function(e){return e.searchResults})),a=Object(r.c)((function(e){return e.errorMessage})),s=Object(r.b)();return Object(c.useEffect)((function(){s(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:n=e.sent,t({type:"INITIALIZE_TOP_RATED",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(O(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),s(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:n=e.sent,t({type:"INITIALIZE_GENRES",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(O(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[s]),a?Object(S.jsx)(H,{message:a}):e&&t?Object(S.jsxs)("div",{className:"App font-face-bellefair",children:[Object(S.jsx)(A,{}),Object(S.jsx)("main",{children:Object(S.jsxs)(_.a,{basename:"/movie-db",children:[Object(S.jsx)(M,{}),Object(S.jsxs)(N.d,{children:[Object(S.jsx)(N.b,{path:"/",element:Object(S.jsx)(N.a,{to:"/shows"})}),Object(S.jsx)(N.b,{path:"/shows",element:Object(S.jsx)(R,{titles:n||e.topShows,genres:t.movieGenres,heading:"TV Shows",currentPath:"/shows"})}),Object(S.jsx)(N.b,{path:"/movies",element:Object(S.jsx)(R,{titles:n||e.topMovies,genres:t.showGenres,heading:"Movies",currentPath:"/movies"})}),Object(S.jsx)(N.b,{path:"/shows/:id",element:Object(S.jsx)(U,{type:"tv"})}),Object(S.jsx)(N.b,{path:"/movies/:id",element:Object(S.jsx)(U,{type:"movie"})}),Object(S.jsx)(N.b,{path:"*",element:Object(S.jsx)(I,{})})]})]})}),Object(S.jsx)(F,{})]}):Object(S.jsx)(k,{})},V=n(15),B=n(29),D=n(28),q=Object(V.createStore)(w,Object(D.composeWithDevTools)(Object(V.applyMiddleware)(B.a)));s.a.render(Object(S.jsx)(r.a,{store:q,children:Object(S.jsx)(Z,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.4a48ef4e.chunk.js.map